<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Đồng Quan Ecogarden</title>
  <link rel="stylesheet" href="imgs/">
  <link rel="stylesheet" href="test.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="icon" type="image/x-icon" href="imgs/Dong_Quan_Garden_Logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
</head>

<body>
  <section class="Header">
    <div class="Header1"
      style="background-image: url(imgs/Garden1.jpg) ;width: 100%; background-size: cover; background-repeat: no-repeat;">
      <div class="NavigationBar">
        <nav class="navbar navbar-expand-lg bg-body-tertiary bg-success p-0" style="--bs-bg-opacity: .25;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">
              <img src="imgs/Dong_Quan_Garden_Logo.png" style="height: 80px;" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
              aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" aria-current="page" href="index.html">TRANG CHỦ</a>
                </li>
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" href="Rooms_DQG.html">PHÒNG</a>
                </li>
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" href="Restaurants_DQG.html">NHÀ HÀNG</a>
                </li>
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" href="Banquet.html">PHÒNG TIỆC</a>
                </li>
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" href="Services.html">DỊCH VỤ</a>
                </li>
                <li class="nav-item mx-2">
                  <a class="nav-link active text-white" href="Contacts_DQG.html">LIÊN HỆ</a>
                </li>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
                  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
                  crossorigin="anonymous"></script>
                <li>
                  <div class="search-container align-middle position-absolute">
                    <div class="search-box" style="height: 45px;">
                      <input style=" color: white;" type="text" class="search-input align-middle" id="searchInput"
                        placeholder="Tìm kiếm phòng..." onfocus="showSuggestions()" oninput="filterSuggestions()">
                      <button class="search-button align-middle mx-1 len" onclick="search()">
                        <img src="imgsMagnifying_glass.png" height="33px" class="p-1">
                      </button>
                    </div>
                    <div class="suggestions" id="suggestionsBox"></div>
                  </div>

                  <a class="btn btn-primary align-middle position-absolute end-0 mx-3 len"
                    style="width: 180px; height: 45px;" href="Reservation.html" role="button">
                    <div class="Resevation_Button d-flex justify-content-evenly justify-content-center">
                      <div>
                        <img class="align-middle" src="imgs/Reservation_White_Outline-01-01.png" alt=""
                          style="height: 30px;">
                      </div>
                      <div>
                        <p class="align-middle" style="font-family: 'Tex_Gyre_Adventor_Regular'; font-size: 20px;"> ĐẶT
                          PHÒNG</p>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
      <div class="Title1">
        <p class="d-flex justify-content-center"> Đồng Quan</p>
        <div class="Title2">
          <img src="imgs/Green_Pointer_Left-01.png" alt="">
          <p>ECOGARDEN</p>
          <img src="imgs/Green_Pointer_Right-01.png" alt="">
        </div>
      </div>
    </div>
  </section>
  <section class="FixedIcons fixed-top">
    <div class="FixedPos fixed-bottom d-flex justify-content-end " id="FbIcon"
      style="position: fixed; margin-bottom: 130px; margin-inline-end: 60px;">
      <a href="#top" style="position: absolute;">
        <i class="fa-solid fa-circle fa-beat fa-3x" style="color: #e35959;position: absolute;"></i>
        <i class="fa-solid fa-circle fa-shake fa-3x" style="color: #e60808; position:absolute"></i>
        <i class="fa-solid fa-arrow-up fa-shake fa-3x ms-2" style="color: #ffffff; position:absolute"></i>
      </a>
    </div>
    <div class="FixedPos fixed-bottom d-flex justify-content-end"
      style="position: fixed;margin-bottom: 200px; margin-inline-end: 60px;">
      <a href="https://zalo.me/0829003399" target="_blank" style="position: absolute;">
        <i class="fa-solid fa-circle fa-beat fa-3x" style="color: #47b383;position: absolute;"></i>
        <i class="fa-solid fa-circle fa-shake fa-3x" style="color: #127046; position:absolute"></i>
        <i class="fa-solid fa-phone fa-shake fa-2x ms-2 mt-2" style="color: #ffffff; position: absolute;"></i>
      </a>
    </div>
    <div class="FixedPos fixed-bottom d-flex justify-content-end"
      style="position: fixed;margin-bottom: 270px; margin-inline-end: 60px;">
      <a href="https://www.facebook.com/sinhthaidongquangarden" target="_blank" style="position: absolute;">
        <i class="fa-solid fa-circle fa-beat fa-3x" style="color: #3682ff; position: absolute;"></i>
        <i class="fa-solid fa-circle fa-shake fa-3x" style="color: #ffffff; position:absolute"></i>
        <i class="fa-brands fa-facebook fa-shake fa-3x" style="color: #0866ff; position:absolute"></i>
      </a>
    </div>
  </section>
  <section class="DetailsContents d-flex justify-content-between align-items-center position-relative m-5" style="height: 480px;">
    <div id="carouselExampleIndicators2" class="carousel slide my-3 text-align-center position-absolute end-0" data-bs-ride="carousel" style="width: 55%;">
      <div class="carousel-indicators" id="carouselButton">
        <!-- <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="2"></button> -->
      </div>
      <div class="carousel-inner" id="carousel">

      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2"
        data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
    <div class="Contents text-align-center position-absolute start-0" id="detailsBody">

    </div>
  </section>
  <section class="Footer d-flex justify-content-between flex-wrap">
    <div class="card border-0 Footer_1" style="max-width: 600px; background-color: rgb(0, 53, 0);">
      <div class="card-header border-0 Footer_Card_1_Title"
        style="background-color: rgb(0, 53, 0); color: white; font-family: 'Tex_Gyre_Adventor_Regular';">Đồng Quan
        Ecogarden</div>
      <div class="card-body text-success">
        <div class="card-text Footer_Card_1_Contents" style="color: white; font-family: 'Comfortaa';">
          <div class="py-1">
            <i class="fa-regular fa-envelope" style="color: #ffffff;"></i>
            Email: ngoclinhecogarden@gmail.com
          </div>
          <div class="py-1">
            <i class="fa-regular fa-map" style="color: #ffffff;"></i>
            Địa Chỉ: 79, khu E, hồ Đồng Quan, Sóc Sơn, Hà Nội, Vietnam
          </div>
          <div>
            <i class="fa-solid fa-voicemail"></i>
            Điện Thoại: 0989 303 799
          </div>
        </div>
      </div>
    </div>
    <div class="card border-0" style="max-width: 600px; background-color: rgb(0, 53, 0); ">
      <div class="card-header border-0 Footer_Card_1_Title"
        style="background-color: rgb(0, 53, 0); color: white; font-family: 'Tex_Gyre_Adventor_Regular';">Thông Tin</div>
      <div class="card-body text-success">
        <ul class="card-text Footer_Card_2_Contents"
          style="color: white; font-family: 'Comfortaa'; text-decoration: none;">
          <li><a href="index.html">Giới Thiệu</a></li>
          <li> <a href="Contacts_DQG.html">Liên Hệ</a></li>
          <li> <a href="Rooms_DQG.html">Phòng</a></li>
          <li> <a href="Banquet.html">Phòng Tiệc</a></li>
          <li> <a href="Services.html">Dịch Vụ</a></li>
          <li> <a href="Restaurants_DQG.html">Nhà Hàng</a></li>
        </ul>
      </div>
    </div>
    <div class="card border-0 Footer_3" style="max-width: 600px; background-color: rgb(0, 53, 0);">
      <div class="card-header border-0 Footer_Card_1_Title"
        style="background-color: rgb(0, 53, 0); color: white; font-family: 'Tex_Gyre_Adventor_Regular';">Tổ Hợp Khu
      </div>
      <div class="card-body text-success">
        <ul class="card-text Footer_Card_2_Contents"
          style="color: white; font-family: 'Comfortaa'; text-decoration: none;">
          <li><a href="index.html">Đồng Quan Garden</a></li>
          <li> <a href="index.html">Đồng Quan Lakeside</a></li>
          <li> <a href="index.html">Đồng Quan Holiday</a></li>
        </ul>
      </div>
    </div>
  </section>
  <script>
    let filteredRooms = [];
    fetch('APIs/rooms.json')
      .then(response => response.json())
      .then(data => {
        filteredRooms = data.rooms;
        console.log("Rooms loaded:", filteredRooms);
        const urlParams = new URLSearchParams(window.location.search);
        const roomId = urlParams.get("id");
        let selectedRoom = filteredRooms.find(room => roomId === room.id);
        let detailsBody = document.getElementById("detailsBody");
        detailsBody.innerHTML = `
                    <h1>${selectedRoom.area}: ${selectedRoom.name}</h1>
                    <p><strong>Cỡ Phòng:</strong> ${selectedRoom.size || "N/A"}</p>
                    <p><strong>Giường:</strong> ${selectedRoom.beds || "N/A"}</p>
                    <p><strong>Phòng Tắm:</strong> ${selectedRoom.bathroom || "N/A"}</p>
                    <p><strong>Sức Chứa:</strong> ${selectedRoom.capacity || "N/A"}</p>
                    <p><strong>Tiện Nghi:</strong> ${selectedRoom.amenities ? selectedRoom.amenities.join(", ") : "N/A"}</p>
                `
        let carouselButtons = document.getElementById("carouselButton")
        let innerCarouselButtons = ""
        selectedRoom.images.forEach((img, index) => {
          innerCarouselButtons += `
          <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="${index}"  ${index === 0 ? 'class="active"' : ''}> </button>
          `
        });
        carouselButtons.innerHTML = innerCarouselButtons
        let carouselContainer = document.getElementById("carousel");
        let innerCarousel = ""
        selectedRoom.images.forEach((img, index) => {
          innerCarousel += `
              <div class="carousel-item ${index === 0 ? 'active' : ''}">
                  <img src="${img}" class="d-block w-100" alt="Room Image ${index + 1}">
              </div>
          `;
        });
        carouselContainer.innerHTML = innerCarousel
      })
      .catch(error => console.error('Error loading JSON:', error));

    function populateSuggestions() {
      const suggestionsBox = document.getElementById("suggestionsBox");
      suggestionsBox.innerHTML = "";

      filteredRooms.forEach(room => {
        let suggestionText = `${room.area}: ${room.name}`;
        let div = document.createElement("div");
        div.textContent = suggestionText;
        div.onclick = () => selectSuggestion(suggestionText);
        suggestionsBox.appendChild(div);
      });

      suggestionsBox.style.display = "block";
    }

    function showSuggestions() {
      if (filteredRooms.length > 0) {
        populateSuggestions();
      }
    }

    function selectSuggestion(value) {
      document.getElementById("searchInput").value = value;
      document.getElementById("suggestionsBox").style.display = "none";
    }

    function filterSuggestions() {
      let input = document.getElementById("searchInput").value.toLowerCase();
      let suggestionsBox = document.getElementById("suggestionsBox");
      suggestionsBox.innerHTML = "";

      let filtered = filteredRooms.filter(room => `${room.area}: ${room.name}`.toLowerCase().includes(input));

      filtered.forEach(room => {
        let suggestionText = `${room.area}: ${room.name}`;
        let div = document.createElement("div");
        div.textContent = suggestionText;
        div.onclick = () => selectSuggestion(suggestionText);
        suggestionsBox.appendChild(div);
      });

      suggestionsBox.style.display = filtered.length ? "block" : "none";
    }

    function search() {
      let query = document.getElementById("searchInput").value;
      let selectedRoom = filteredRooms.find(room => `${room.area}: ${room.name}` === query);

      if (selectedRoom) {
        let newWindow = window.open(`details.html?id=${selectedRoom.id}`, "_blank");

        newWindow.document.write(roomDetails);
      } else {
        alert("Please select a valid option from the suggestions.");
      }
    }
    document.addEventListener("click", function (event) {
      const searchContainer = document.querySelector(".search-container");
      const suggestionsBox = document.getElementById("suggestionsBox");

      if (!searchContainer.contains(event.target)) {
        suggestionsBox.style.display = "none";
      }
    });

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</body>

</html>